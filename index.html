<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Pixel Art!!</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="index.css">
  </head>
  <body>
    <div id="canvas"></div>
    <div id="color-palette"></div>
    <div id="additional-info"></div>
  </body>
</html>

<script>

document.addEventListener("DOMContentLoaded", function() {

  let canvas = document.getElementById('canvas');
  let color_palette = document.getElementById('color-palette');
  let additional_info = document.getElementById('additional-info');
  let colors = ['navy', 'blue', 'aqua', 'teal', 'olive', 'green', 'lime', 'yellow', 'orange', 'red', 'maroon', 'fuchsia', 'purple', 'black', 'silver', 'white'];
  let brushColor = 'red';

  function createCanvasCell() {
    let div = document.createElement('div');
    div.className = 'canvas-cell';
    div.addEventListener('click', function() {
      div.style.backgroundColor = brushColor;
    })
    return div;
  }

  function createCanvas() {
    for (let i = 0; i < 432; i++) {
      let pixel = createCanvasCell();
      canvas.appendChild(pixel)
    }
  }

  createCanvas();

  function colorIndicatorText(className) {
    let paragraph = document.createElement('p');
    paragraph.className = className;
    paragraph.innerHTML = 'Current color: ';
    additional_info.appendChild(paragraph);
  }

  colorIndicatorText('indicator-text');

  function createPaletteCell() {
    let div = document.createElement('div');
    div.className = 'palette-cell';
    div.addEventListener('click', function() {
      brushColor = div.style.backgroundColor;
    })
    div.addEventListener('click', function() {
      let indicator = document.querySelector('.indicator-cell');
      indicator.style.backgroundColor = brushColor;
    })
    return div;
  }

  function createColorPalette() {
    for (let j = 0; j < colors.length; j++) {
      let cell = createPaletteCell();
      color_palette.appendChild(cell);
      cell.style.backgroundColor = colors[j];
    }
  }

  createColorPalette();

  function createColorIndicator() {
    let div = document.createElement('div');
    div.className = 'indicator-cell';
    div.style.backgroundColor = brushColor;
    additional_info.appendChild(div)
  }

  createColorIndicator();

  function reloadButton() {
    let btn = document.createElement('button');
    btn.className = 'clear-btn';
    btn.innerHTML = 'Start Over';
    additional_info.appendChild(btn);
    btn.addEventListener('click', function() {
      window.location.reload()
    })
  }

  reloadButton();

});

</script>
